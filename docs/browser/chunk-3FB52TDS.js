import{a as te}from"./chunk-KEVJPXO4.js";import{a as q,b as z,d as J,e as j,g as H,h as G,i as K,n as Q,o as X,p as Y,q as Z,s as $}from"./chunk-EQOCKVVJ.js";import{a as ne}from"./chunk-PLOFLDII.js";import{I as ee,M as I,N as V,O as E,P as v,Q as D,S as O,T as A}from"./chunk-PLBYIIK4.js";import{$b as g,Fb as r,Gb as a,Gc as N,Hc as R,Lb as P,Nb as x,Nc as U,Ob as p,Xb as c,Yb as S,Zb as w,a as f,ab as d,ac as u,b,bc as C,dc as L,e as y,fa as F,lb as W,na as s,oa as m,qb as k,wb as _,yb as B}from"./chunk-5KWSUYNW.js";var re=()=>["Faculties","Departments","Department Tracks","Tracks Info","JSON Upload"];function ae(l,n){if(l&1){let e=P();r(0,"button",4),x("click",function(){let t=s(e).index,i=p();return m(i.onTabChange(t))}),c(1),a()}if(l&2){let e=n.$implicit,o=n.index,t=p();B("active",t.activeTabIndex===o),d(),w(" ",e," ")}}function oe(l,n){if(l&1){let e=P();r(0,"div",15)(1,"h3"),c(2),a(),r(3,"div",16)(4,"button",4),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.editFaculty(t))}),c(5,"Edit"),a(),r(6,"button",17),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.deleteFaculty(t.id||""))}),c(7,"Delete"),a()()()}if(l&2){let e=n.$implicit;d(2),S(e.name)}}function ce(l,n){if(l&1){let e=P();r(0,"div",5)(1,"h2"),c(2),a(),r(3,"form",6),x("submit",function(){s(e);let t=p();return m(t.saveFaculty())}),r(4,"div",7)(5,"label"),c(6,"Name"),a(),r(7,"input",8),C("ngModelChange",function(t){s(e);let i=p();return u(i.facultyForm.name,t)||(i.facultyForm.name=t),m(t)}),a()(),r(8,"div",7)(9,"label"),c(10,"Icon URL"),a(),r(11,"input",9),C("ngModelChange",function(t){s(e);let i=p();return u(i.facultyForm.icon,t)||(i.facultyForm.icon=t),m(t)}),a()(),r(12,"div",10)(13,"button",11),c(14),a(),r(15,"button",12),x("click",function(){s(e);let t=p();return m(t.resetFacultyForm())}),c(16,"Cancel"),a()()(),r(17,"h2"),c(18,"Existing Faculties"),a(),r(19,"div",13),k(20,oe,8,1,"div",14),a()()}if(l&2){let e=p();d(2),w("",e.editMode?"Edit":"Add"," Faculty"),d(5),g("ngModel",e.facultyForm.name),d(4),g("ngModel",e.facultyForm.icon),d(3),w("",e.editMode?"Update":"Save"," Faculty"),d(6),_("ngForOf",e.faculties)}}function de(l,n){if(l&1&&(r(0,"option",24),c(1),a()),l&2){let e=n.$implicit;_("value",e.id),d(),S(e.name)}}function le(l,n){if(l&1){let e=P();r(0,"div",15)(1,"h3"),c(2),a(),r(3,"p"),c(4),a(),r(5,"div",16)(6,"button",4),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.editDepartment(t))}),c(7,"Edit"),a(),r(8,"button",17),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.deleteDepartment(t.id||""))}),c(9,"Delete"),a()()()}if(l&2){let e=n.$implicit,o=p(2);d(2),S(e.name),d(2),w("Faculty: ",o.getFacultyName(e.facultyId),"")}}function se(l,n){if(l&1){let e=P();r(0,"div",5)(1,"h2"),c(2),a(),r(3,"form",18),x("submit",function(){s(e);let t=p();return m(t.saveDepartment())}),r(4,"div",7)(5,"label"),c(6,"Faculty"),a(),r(7,"select",19),C("ngModelChange",function(t){s(e);let i=p();return u(i.departmentForm.facultyId,t)||(i.departmentForm.facultyId=t),m(t)}),r(8,"option",20),c(9,"Select Faculty"),a(),k(10,de,2,2,"option",21),a()(),r(11,"div",7)(12,"label"),c(13,"Name"),a(),r(14,"input",22),C("ngModelChange",function(t){s(e);let i=p();return u(i.departmentForm.name,t)||(i.departmentForm.name=t),m(t)}),a()(),r(15,"div",7)(16,"label"),c(17,"Icon URL"),a(),r(18,"input",23),C("ngModelChange",function(t){s(e);let i=p();return u(i.departmentForm.icon,t)||(i.departmentForm.icon=t),m(t)}),a()(),r(19,"div",10)(20,"button",11),c(21),a(),r(22,"button",12),x("click",function(){s(e);let t=p();return m(t.resetDepartmentForm())}),c(23,"Cancel"),a()()(),r(24,"h2"),c(25,"Existing Departments"),a(),r(26,"div",13),k(27,le,10,2,"div",14),a()()}if(l&2){let e=p();d(2),w("",e.editMode?"Edit":"Add"," Department"),d(5),g("ngModel",e.departmentForm.facultyId),d(3),_("ngForOf",e.facultyOptions),d(4),g("ngModel",e.departmentForm.name),d(4),g("ngModel",e.departmentForm.icon),d(3),w("",e.editMode?"Update":"Save"," Department"),d(6),_("ngForOf",e.departments)}}function me(l,n){if(l&1){let e=P();r(0,"div",30)(1,"input",31),x("change",function(){let t=s(e).$implicit,i=p(2);return m(i.toggleDepartment(t.id))}),a(),r(2,"label",32),c(3),a()()}if(l&2){let e=n.$implicit,o=p(2);d(),_("id","dept-"+e.id)("value",e.id)("checked",o.careerTrackForm.departmentIds.includes(e.id)),d(),_("for","dept-"+e.id),d(),S(e.label)}}function pe(l,n){if(l&1){let e=P();r(0,"div",15)(1,"h3"),c(2),a(),r(3,"p"),c(4),a(),r(5,"div",16)(6,"button",4),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.editCareerTrack(t))}),c(7,"Edit"),a(),r(8,"button",17),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.deleteCareerTrack(t.id||""))}),c(9,"Delete"),a()()()}if(l&2){let e=n.$implicit;d(2),S(e.name),d(2),S(e.description)}}function _e(l,n){if(l&1){let e=P();r(0,"div",5)(1,"h2"),c(2),a(),r(3,"form",18),x("submit",function(){s(e);let t=p();return m(t.saveCareerTrack())}),r(4,"div",7)(5,"label"),c(6,"Track Id"),a(),r(7,"input",25),C("ngModelChange",function(t){s(e);let i=p();return u(i.careerTrackForm.id,t)||(i.careerTrackForm.id=t),m(t)}),a()(),r(8,"div",7)(9,"label"),c(10,"Name"),a(),r(11,"input",26),C("ngModelChange",function(t){s(e);let i=p();return u(i.careerTrackForm.name,t)||(i.careerTrackForm.name=t),m(t)}),a()(),r(12,"div",7)(13,"label"),c(14,"Description"),a(),r(15,"textarea",27),C("ngModelChange",function(t){s(e);let i=p();return u(i.careerTrackForm.description,t)||(i.careerTrackForm.description=t),m(t)}),a()(),r(16,"div",7)(17,"label"),c(18,"Icon"),a(),r(19,"input",28),C("ngModelChange",function(t){s(e);let i=p();return u(i.careerTrackForm.icon,t)||(i.careerTrackForm.icon=t),m(t)}),a()(),r(20,"div",7)(21,"label"),c(22,"Departments"),a(),k(23,me,4,5,"div",29),a(),r(24,"div",10)(25,"button",11),c(26),a(),r(27,"button",12),x("click",function(){s(e);let t=p();return m(t.resetCareerTrackForm())}),c(28,"Cancel"),a()()(),r(29,"h2"),c(30,"Existing Career Tracks"),a(),r(31,"div",13),k(32,pe,10,2,"div",14),a()()}if(l&2){let e=p();d(2),w("",e.editMode?"Edit":"Add"," Career Track"),d(5),g("ngModel",e.careerTrackForm.id),d(4),g("ngModel",e.careerTrackForm.name),d(4),g("ngModel",e.careerTrackForm.description),d(4),g("ngModel",e.careerTrackForm.icon),d(4),_("ngForOf",e.departmentOptions),d(3),w("",e.editMode?"Update":"Save"," Career Track"),d(6),_("ngForOf",e.careerTracks)}}function ge(l,n){if(l&1&&(r(0,"option",24),c(1),a()),l&2){let e=n.$implicit;_("value",e.id),d(),w(" ",e.name," ")}}function ue(l,n){if(l&1){let e=P();r(0,"div",40)(1,"div",7)(2,"label"),c(3,"Title"),a(),r(4,"input",41),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.title,t)||(i.title=t),m(t)}),a()(),r(5,"div",7)(6,"label"),c(7,"Description"),a(),r(8,"textarea",42),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.description,t)||(i.description=t),m(t)}),a()(),r(9,"div",7)(10,"label"),c(11,"Icon"),a(),r(12,"input",43),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.icon,t)||(i.icon=t),m(t)}),a()(),r(13,"button",44),x("click",function(){let t=s(e).index,i=p(2);return m(i.removeBenefit(t))}),c(14,"Remove Benefit"),a()()}if(l&2){let e=n.$implicit,o=n.index;d(4),g("ngModel",e.title),_("name","benefitTitle"+o),d(4),g("ngModel",e.description),_("name","benefitDescription"+o),d(4),g("ngModel",e.icon),_("name","benefitIcon"+o)}}function Ce(l,n){if(l&1){let e=P();r(0,"div",40)(1,"div",7)(2,"label"),c(3,"Title"),a(),r(4,"input",41),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.title,t)||(i.title=t),m(t)}),a()(),r(5,"div",7)(6,"label"),c(7,"Content"),a(),r(8,"textarea",42),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.content,t)||(i.content=t),m(t)}),a()(),r(9,"button",44),x("click",function(){let t=s(e).index,i=p(2);return m(i.removeSection(t))}),c(10,"Remove Section"),a()()}if(l&2){let e=n.$implicit,o=n.index;d(4),g("ngModel",e.title),_("name","sectionTitle"+o),d(4),g("ngModel",e.content),_("name","sectionContent"+o)}}function xe(l,n){if(l&1){let e=P();r(0,"div",40)(1,"div",7)(2,"label"),c(3,"Title"),a(),r(4,"input",41),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.title,t)||(i.title=t),m(t)}),a()(),r(5,"div",7)(6,"label"),c(7,"Description"),a(),r(8,"textarea",42),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.description,t)||(i.description=t),m(t)}),a()(),r(9,"div",7)(10,"label"),c(11,"Icon"),a(),r(12,"input",43),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.icon,t)||(i.icon=t),m(t)}),a()(),r(13,"div",7)(14,"label"),c(15,"Enabled"),a(),r(16,"input",45),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.enabled,t)||(i.enabled=t),m(t)}),a()(),r(17,"div",7)(18,"label"),c(19,"Link"),a(),r(20,"input",43),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.link,t)||(i.link=t),m(t)}),a()(),r(21,"div",7)(22,"label"),c(23,"Button Text"),a(),r(24,"input",43),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.buttonText,t)||(i.buttonText=t),m(t)}),a()(),r(25,"div",7)(26,"label"),c(27,"Highlighted"),a(),r(28,"input",45),C("ngModelChange",function(t){let i=s(e).$implicit;return u(i.highlighted,t)||(i.highlighted=t),m(t)}),a()(),r(29,"button",44),x("click",function(){let t=s(e).index,i=p(2);return m(i.removePathCard(t))}),c(30,"Remove Card"),a()()}if(l&2){let e=n.$implicit,o=n.index;d(4),g("ngModel",e.title),_("name","cardTitle"+o),d(4),g("ngModel",e.description),_("name","cardDescription"+o),d(4),g("ngModel",e.icon),_("name","cardIcon"+o),d(4),g("ngModel",e.enabled),_("name","cardEnabled"+o),d(4),g("ngModel",e.link),_("name","cardLink"+o),d(4),g("ngModel",e.buttonText),_("name","cardButtonText"+o),d(4),g("ngModel",e.highlighted),_("name","cardHighlighted"+o)}}function fe(l,n){if(l&1&&(r(0,"p"),c(1),a()),l&2){let e=p().$implicit,o=p(2);d(),w(" Associated with: ",o.getCareerTrackName(e.trackId)," ")}}function he(l,n){if(l&1){let e=P();r(0,"div",15)(1,"h3"),c(2),a(),k(3,fe,2,1,"p",46),r(4,"div",16)(5,"button",4),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.editTrack(t))}),c(6,"Edit"),a(),r(7,"button",17),x("click",function(){let t=s(e).$implicit,i=p(2);return m(i.deleteTrack(t.id||""))}),c(8,"Delete"),a()()()}if(l&2){let e=n.$implicit;d(2),S(e.title),d(),_("ngIf",e.trackId)}}function Me(l,n){if(l&1){let e=P();r(0,"div",5)(1,"h2"),c(2),a(),r(3,"form",18),x("submit",function(){s(e);let t=p();return m(t.saveTrack())}),r(4,"div",7)(5,"label"),c(6,"Title"),a(),r(7,"input",33),C("ngModelChange",function(t){s(e);let i=p();return u(i.trackForm.title,t)||(i.trackForm.title=t),m(t)}),a()(),r(8,"div",7)(9,"label"),c(10,"Description"),a(),r(11,"textarea",34),C("ngModelChange",function(t){s(e);let i=p();return u(i.trackForm.description,t)||(i.trackForm.description=t),m(t)}),a()(),r(12,"div",7)(13,"label"),c(14,"Hero Image URL"),a(),r(15,"input",35),C("ngModelChange",function(t){s(e);let i=p();return u(i.trackForm.heroImage,t)||(i.trackForm.heroImage=t),m(t)}),a()(),r(16,"div",7)(17,"label"),c(18,"Associated Career Track"),a(),r(19,"select",36),C("ngModelChange",function(t){s(e);let i=p();return u(i.trackForm.trackId,t)||(i.trackForm.trackId=t),m(t)}),r(20,"option",37),c(21,"Select Career Track (Optional)"),a(),k(22,ge,2,2,"option",21),a()(),r(23,"h3"),c(24,"Benefits"),a(),k(25,ue,15,6,"div",38),r(26,"button",39),x("click",function(){s(e);let t=p();return m(t.addBenefit())}),c(27,"Add Benefit"),a(),r(28,"h3"),c(29,"Content Sections"),a(),k(30,Ce,11,4,"div",38),r(31,"button",39),x("click",function(){s(e);let t=p();return m(t.addSection())}),c(32,"Add Section"),a(),r(33,"h3"),c(34,"Path Cards"),a(),k(35,xe,31,14,"div",38),r(36,"button",39),x("click",function(){s(e);let t=p();return m(t.addPathCard())}),c(37,"Add Path Card"),a(),r(38,"div",10)(39,"button",11),c(40),a(),r(41,"button",12),x("click",function(){s(e);let t=p();return m(t.resetTrackForm())}),c(42,"Cancel"),a()()(),r(43,"h2"),c(44,"Existing Tracks"),a(),r(45,"div",13),k(46,he,9,2,"div",14),a()()}if(l&2){let e=p();d(2),w("",e.editMode?"Edit":"Add"," Track"),d(5),g("ngModel",e.trackForm.title),d(4),g("ngModel",e.trackForm.description),d(4),g("ngModel",e.trackForm.heroImage),d(4),g("ngModel",e.trackForm.trackId),d(3),_("ngForOf",e.careerTracks),d(3),_("ngForOf",e.trackForm.benefits),d(5),_("ngForOf",e.trackForm.content.sections),d(5),_("ngForOf",e.trackForm.pathCards),d(5),w("",e.editMode?"Update":"Save"," Track"),d(6),_("ngForOf",e.tracks)}}function ye(l,n){if(l&1){let e=P();r(0,"div",5)(1,"h2"),c(2,"Upload JSON Data"),a(),r(3,"div",7)(4,"label"),c(5,"JSON Data"),a(),r(6,"textarea",47),C("ngModelChange",function(t){s(e);let i=p();return u(i.jsonInput,t)||(i.jsonInput=t),m(t)}),a()(),r(7,"div",10)(8,"button",12),x("click",function(){s(e);let t=p();return m(t.uploadJson())}),c(9,"Upload"),a()(),r(10,"div",48)(11,"h3"),c(12,"Instructions:"),a(),r(13,"p"),c(14,"Paste valid JSON data for either:"),a(),r(15,"ul")(16,"li"),c(17,"Track (must contain title and content properties)"),a(),r(18,"li"),c(19,"Department (must contain facultyId property)"),a(),r(20,"li"),c(21,"Career Track (must contain departmentIds property)"),a(),r(22,"li"),c(23,"Faculty (must contain name property only)"),a()()()()}if(l&2){let e=p();d(6),g("ngModel",e.jsonInput)}}var ie=class l{firestore=F(ee);universityService=F(te);trackService=F(ne);activeTabIndex=0;jsonInput="";editMode=!1;currentEditId="";trackForm=this.getDefaultTrack();departmentForm=this.getDefaultDepartment();careerTrackForm=this.getDefaultCareerTrack();facultyForm=this.getDefaultFaculty();faculties=[];departments=[];careerTracks=[];tracks=[];facultyOptions=[];departmentOptions=[];ngOnInit(){this.loadAllData()}loadAllData(){return y(this,null,function*(){this.loadFaculties(),this.loadDepartments(),this.loadCareerTracks(),this.loadTracks()})}loadFaculties(){return y(this,null,function*(){this.universityService.getFaculties().subscribe({next:n=>{this.faculties=n,this.facultyOptions=n.map(e=>({id:e.id||"",name:e.name}))},error:n=>console.error("Error loading faculties:",n)})})}loadDepartments(){return y(this,null,function*(){this.universityService.getDepartments().subscribe({next:n=>{this.departments=n,this.departmentOptions=n.map(e=>({id:e.id||"",label:e.name}))},error:n=>console.error("Error loading departments:",n)})})}loadCareerTracks(){return y(this,null,function*(){this.universityService.getTracks().subscribe({next:n=>{this.careerTracks=n},error:n=>console.error("Error loading career tracks:",n)})})}loadTracks(){return y(this,null,function*(){this.trackService.getAllTracks().subscribe({next:n=>{this.tracks=n},error:n=>console.error("Error loading tracks:",n)})})}addBenefit(){this.trackForm.benefits.push({title:"",description:"",icon:""})}removeBenefit(n){this.trackForm.benefits.splice(n,1)}addSection(){this.trackForm.content.sections.push({title:"",content:"",order:this.trackForm.content.sections.length+1})}removeSection(n){this.trackForm.content.sections.splice(n,1)}addPathCard(){this.trackForm.pathCards.push({title:"",description:"",icon:"",enabled:!0})}removePathCard(n){this.trackForm.pathCards.splice(n,1)}saveTrack(){return y(this,null,function*(){console.log("this.trackForm",this.trackForm);try{let n=V(this.firestore,"tracksData");if(this.editMode&&this.currentEditId){let e=v(this.firestore,"tracksData",this.currentEditId);yield A(e,f({},this.trackForm))}else yield I(n,this.trackForm);alert("Track saved successfully"),this.resetTrackForm(),this.loadTracks()}catch(n){console.error("Error saving track:",n),alert("Failed to save track")}})}editTrack(n){this.editMode=!0,this.currentEditId=n.id||"",this.trackForm=f({},n)}deleteTrack(n){return y(this,null,function*(){if(confirm("Are you sure you want to delete this track?"))try{let e=v(this.firestore,"tracksData",n);yield E(e),alert("Track deleted successfully"),this.loadTracks()}catch(e){console.error("Error deleting track:",e),alert("Failed to delete track")}})}saveDepartment(){return y(this,null,function*(){try{let n=V(this.firestore,"departments");if(this.editMode&&this.currentEditId){let e=v(this.firestore,"departments",this.currentEditId);yield A(e,f({},this.departmentForm))}else yield I(n,this.departmentForm);alert("Department saved successfully"),this.resetDepartmentForm(),this.loadDepartments()}catch(n){console.error("Error saving department:",n),alert("Failed to save department")}})}editDepartment(n){this.editMode=!0,this.currentEditId=n.id||"",this.departmentForm=f({},n)}deleteDepartment(n){return y(this,null,function*(){if(confirm("Are you sure you want to delete this department?"))try{let e=v(this.firestore,"departments",n);yield E(e),alert("Department deleted successfully"),this.loadDepartments()}catch(e){console.error("Error deleting department:",e),alert("Failed to delete department")}})}saveCareerTrack(){return y(this,null,function*(){try{if(!this.careerTrackForm.id){alert("Track ID is required");return}let n=v(this.firestore,"careerTracks",this.careerTrackForm.id);if(this.editMode&&this.currentEditId){if(this.currentEditId!==this.careerTrackForm.id){let e=v(this.firestore,"careerTracks",this.currentEditId);yield E(e)}yield O(n,this.careerTrackForm,{merge:!0})}else yield O(n,this.careerTrackForm);alert("Career track saved successfully"),this.resetCareerTrackForm(),this.loadCareerTracks()}catch{alert("Failed to save career track")}})}editCareerTrack(n){this.editMode=!0,this.currentEditId=n.id||"",this.careerTrackForm=f({},n)}deleteCareerTrack(n){return y(this,null,function*(){if(confirm("Are you sure you want to delete this career track?"))try{let e=v(this.firestore,"careerTracks",n);yield E(e),alert("Career track deleted successfully"),this.loadCareerTracks()}catch(e){console.error("Error deleting career track:",e),alert("Failed to delete career track")}})}saveFaculty(){return y(this,null,function*(){try{let n=V(this.firestore,"faculties");if(this.editMode&&this.currentEditId){let e=v(this.firestore,"faculties",this.currentEditId);yield A(e,f({},this.facultyForm))}else yield I(n,this.facultyForm);alert("Faculty saved successfully"),this.resetFacultyForm(),this.loadFaculties()}catch(n){console.error("Error saving faculty:",n),alert("Failed to save faculty")}})}editFaculty(n){this.editMode=!0,this.currentEditId=n.id||"",this.facultyForm=f({},n)}deleteFaculty(n){return y(this,null,function*(){if(confirm("Are you sure you want to delete this faculty?"))try{let e=v(this.firestore,"faculties",n);yield E(e),alert("Faculty deleted successfully"),this.loadFaculties()}catch(e){console.error("Error deleting faculty:",e),alert("Failed to delete faculty")}})}uploadJson(){return y(this,null,function*(){try{let n=JSON.parse(this.jsonInput);if(n.id&&n.title&&n.stages){let e={id:n.id,title:n.title,stages:n.stages.map(t=>b(f({},t),{steps:t.steps.map(i=>b(f({},i),{id:i.id||Date.now().toString(),skills:i.skills?.map(M=>b(f({},M),{id:M.id||Date.now().toString()}))||[],createdAt:new Date().toISOString()}))}))},o=v(this.firestore,"roadmaps",n.id);yield O(o,e),alert("Roadmap created successfully");return}if(n.docId&&n.name&&n.steps){let e=v(this.firestore,"roadmaps",n.docId),o=yield D(e);if(!o.exists())throw new Error("Roadmap not found");let t=o.data(),i={id:n.id||Date.now().toString(),name:n.name,icon:n.icon||"",steps:n.steps.map(h=>b(f({},h),{id:h.id||Date.now().toString(),skills:h.skills?.map(T=>b(f({},T),{id:T.id||Date.now().toString()}))||[],createdAt:new Date().toISOString()}))},M={stages:[...t.stages||[],i]};yield O(e,M,{merge:!0}),alert("Stage added successfully");return}if(n.docId&&n.stageId&&n.stepData){let e=v(this.firestore,"roadmaps",n.docId),o=yield D(e);if(!o.exists())throw new Error("Roadmap not found");let t=o.data(),i=t.stages.findIndex(h=>h.id===n.stageId);if(i===-1)throw new Error("Stage not found");let M=[...t.stages];M[i]=b(f({},M[i]),{steps:[...M[i].steps||[],b(f({},n.stepData),{id:n.stepData.id||Date.now().toString(),skills:n.stepData.skills?.map(h=>b(f({},h),{id:h.id||Date.now().toString()}))||[],createdAt:new Date().toISOString()})]}),yield O(e,{stages:M},{merge:!0}),alert("Step added successfully");return}if(n.docId&&n.stageId&&n.stepId&&n.skillData){let e=v(this.firestore,"roadmaps",n.docId),o=yield D(e);if(!o.exists())throw new Error("Roadmap not found");let t=o.data(),i=t.stages.findIndex(T=>T.id===n.stageId);if(i===-1)throw new Error("Stage not found");let M=t.stages[i].steps.findIndex(T=>T.id===n.stepId);if(M===-1)throw new Error("Step not found");let h=[...t.stages];h[i]=b(f({},h[i]),{steps:[...h[i].steps.slice(0,M),b(f({},h[i].steps[M]),{skills:[...h[i].steps[M].skills||[],b(f({},n.skillData),{id:n.skillData.id||Date.now().toString(),createdAt:new Date().toISOString()})]}),...h[i].steps.slice(M+1)]}),yield O(e,{stages:h},{merge:!0}),alert("Skill added successfully");return}throw new Error("Invalid JSON structure")}catch(n){console.error("Upload failed:",n),alert(`Upload failed: ${n}`)}finally{this.jsonInput="",this.loadAllData()}})}resetTrackForm(){this.trackForm=this.getDefaultTrack(),this.editMode=!1,this.currentEditId=""}resetDepartmentForm(){this.departmentForm=this.getDefaultDepartment(),this.editMode=!1,this.currentEditId=""}resetCareerTrackForm(){this.careerTrackForm=this.getDefaultCareerTrack(),this.editMode=!1,this.currentEditId=""}resetFacultyForm(){this.facultyForm=this.getDefaultFaculty(),this.editMode=!1,this.currentEditId=""}getDefaultTrack(){return{title:"",description:"",benefits:[],content:{sections:[]},pathCards:[]}}getDefaultDepartment(){return{facultyId:"",name:""}}getDefaultCareerTrack(){return{departmentIds:[],description:"",icon:"",name:"",id:""}}getDefaultFaculty(){return{name:""}}onTabChange(n){this.activeTabIndex=n,this.editMode=!1,this.currentEditId="",this.resetTrackForm(),this.resetDepartmentForm(),this.resetCareerTrackForm(),this.resetFacultyForm()}getFacultyName(n){let e=this.faculties.find(o=>o.id===n);return e?e.name:"Unknown Faculty"}toggleDepartment(n){let e=this.careerTrackForm.departmentIds.indexOf(n);e===-1?this.careerTrackForm.departmentIds.push(n):this.careerTrackForm.departmentIds.splice(e,1)}getCareerTrackName(n){let e=this.careerTracks.find(o=>o.id===n);return e?e.name:"Not associated"}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=W({type:l,selectors:[["app-admin-panel"]],decls:8,vars:7,consts:[[1,"admin-panel"],[1,"tabs"],[3,"active","click",4,"ngFor","ngForOf"],["class","tab-content",4,"ngIf"],[3,"click"],[1,"tab-content"],[3,"submit"],[1,"form-group"],["type","text","name","facultyName","required","",3,"ngModelChange","ngModel"],["type","text","name","facultyIcon",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","submit"],["type","button",3,"click"],[1,"list-container"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],[1,"item-actions"],[1,"delete-btn",3,"click"],[1,"mb-5",3,"submit"],["name","departmentFaculty","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","name","departmentName","required","",3,"ngModelChange","ngModel"],["type","text","name","departmentIcon",3,"ngModelChange","ngModel"],[3,"value"],["type","text","name","careerTrackId","required","",3,"ngModelChange","ngModel"],["type","text","name","careerTrackName","required","",3,"ngModelChange","ngModel"],["name","careerTrackDescription","required","",3,"ngModelChange","ngModel"],["type","text","name","careerTrackIcon",3,"ngModelChange","ngModel"],["class","checkbox-option",4,"ngFor","ngForOf"],[1,"checkbox-option"],["type","checkbox",3,"change","id","value","checked"],[3,"for"],["type","text","name","trackTitle","required","",3,"ngModelChange","ngModel"],["name","trackDescription","required","",3,"ngModelChange","ngModel"],["type","text","name","trackHeroImage",3,"ngModelChange","ngModel"],["name","trackCareerTrack",3,"ngModelChange","ngModel"],["value","","selected","","disabled",""],["class","array-section",4,"ngFor","ngForOf"],["type","button",1,"add-btn",3,"click"],[1,"array-section"],["type","text","required","",3,"ngModelChange","ngModel","name"],["required","",3,"ngModelChange","ngModel","name"],["type","text",3,"ngModelChange","ngModel","name"],["type","button",1,"remove-btn",3,"click"],["type","checkbox",3,"ngModelChange","ngModel","name"],[4,"ngIf"],["placeholder","Paste your JSON data here","rows","10",3,"ngModelChange","ngModel"],[1,"instructions"]],template:function(e,o){e&1&&(r(0,"div",0)(1,"div",1),k(2,ae,2,3,"button",2),a(),k(3,ce,21,5,"div",3)(4,se,28,7,"div",3)(5,_e,33,8,"div",3)(6,Me,47,11,"div",3)(7,ye,24,1,"div",3),a()),e&2&&(d(2),_("ngForOf",L(6,re)),d(),_("ngIf",o.activeTabIndex===0),d(),_("ngIf",o.activeTabIndex===1),d(),_("ngIf",o.activeTabIndex===2),d(),_("ngIf",o.activeTabIndex===3),d(),_("ngIf",o.activeTabIndex===4))},dependencies:[U,N,R,$,K,X,Y,z,q,Q,J,j,Z,G,H],styles:[".admin-panel[_ngcontent-%COMP%]{font-family:Arial,sans-serif;max-width:1200px;margin:4rem auto 0;padding:20px;box-sizing:border-box}.admin-panel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-bottom:20px;border-bottom:1px solid #ddd}.admin-panel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background:#f5f5f5;border:none;border-radius:4px 4px 0 0;margin-right:5px;cursor:pointer;font-size:16px;transition:all .3s ease}.admin-panel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#e0e0e0}.admin-panel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#2196f3;color:#fff}.admin-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:4px;box-shadow:0 2px 4px #0000001a}.admin-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:1px solid #eee;padding-bottom:10px}.admin-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:20px 0 10px;color:#444}.admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:15px}.admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#555}.admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=url][_ngcontent-%COMP%], .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px;box-sizing:border-box;font-size:14px}.admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=url][_ngcontent-%COMP%]:focus, .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus, .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#2196f3;outline:none}.admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:100px;resize:vertical}.admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:5px}.admin-panel[_ngcontent-%COMP%]   .checkbox-option[_ngcontent-%COMP%]{margin:5px 0;display:flex;align-items:center}.admin-panel[_ngcontent-%COMP%]   .checkbox-option[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:400;margin-left:5px}.admin-panel[_ngcontent-%COMP%]   .array-section[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px;border-radius:4px;margin-bottom:15px;border:1px solid #eee}.admin-panel[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]{background:#4caf50;color:#fff;border:none;padding:8px 15px;border-radius:4px;cursor:pointer;margin-bottom:20px;font-size:14px}.admin-panel[_ngcontent-%COMP%]   .add-btn[_ngcontent-%COMP%]:hover{background:#3e8e41}.admin-panel[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none;padding:5px 10px;border-radius:4px;cursor:pointer;font-size:13px;margin-top:10px}.admin-panel[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#d32f2f}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:20px}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:14px;margin-right:10px}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#2196f3;color:#fff}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{background:#0b7dda}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#f5f5f5}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child:hover{background:#e0e0e0}.admin-panel[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{margin-top:30px}.admin-panel[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{background:#fff;padding:15px;border-radius:4px;box-shadow:0 1px 3px #0000001a;margin-bottom:15px}.admin-panel[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;color:#333}.admin-panel[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0;color:#666}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{margin-top:10px}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;border:none;border-radius:4px;cursor:pointer;font-size:13px;margin-right:5px}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#2196f3;color:#fff}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child:hover{background:#0b7dda}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button.delete-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button.delete-btn[_ngcontent-%COMP%]:hover{background:#d32f2f}.admin-panel[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]{margin-top:20px;padding:15px;background:#f5f5f5;border-radius:4px}.admin-panel[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.admin-panel[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px}@media (max-width: 768px){.admin-panel[_ngcontent-%COMP%]{padding:10px}.admin-panel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;margin-bottom:5px}.admin-panel[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:15px}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 15px}}@media (max-width: 480px){.admin-panel[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 10px;font-size:13px}.admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[type=url][_ngcontent-%COMP%], .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%], .admin-panel[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}.admin-panel[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;margin-right:0}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column}.admin-panel[_ngcontent-%COMP%]   .item-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:5px;margin-right:0}}"]})};export{ie as AdminPanelComponent};
