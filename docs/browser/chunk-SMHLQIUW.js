import{b as q,c as p,d as V,e as D,i as U,j as Y,l as A,m as G,n as J,o as K,p as Q,r as R,t as z}from"./chunk-EQOCKVVJ.js";import{F as B,G as W,e as E}from"./chunk-FLQ6NPE2.js";import{U as j}from"./chunk-PLBYIIK4.js";import{k as I}from"./chunk-XPNQNT7J.js";import{$b as O,Cb as w,Fb as t,Gb as n,Gc as H,Hb as s,Hc as N,Lb as S,Nb as u,Nc as L,Ob as d,Xb as r,Yb as _,Zb as C,ab as a,ac as k,bc as F,cc as T,dc as y,fa as v,lb as P,na as f,oa as b,qb as g,wb as m,xa as x,zb as M}from"./chunk-5KWSUYNW.js";var oe=()=>({width:"50rem"}),re=()=>({"960px":"75vw","640px":"90vw"});function ae(o,i){if(o&1&&(t(0,"div",58),r(1),n()),o&2){let e=d(2);a(),_(e.firstNameError)}}function le(o,i){if(o&1&&(t(0,"div",58),r(1),n()),o&2){let e=d(2);a(),_(e.lastNameError)}}function se(o,i){if(o&1&&(t(0,"div",58),r(1),n()),o&2){let e=d(2);a(),_(e.emailError)}}function me(o,i){if(o&1&&(t(0,"div",58),r(1),n()),o&2){let e=d(2);a(),_(e.mobileError)}}function de(o,i){if(o&1&&(t(0,"div",58),r(1),n()),o&2){let e=d(2);a(),_(e.genderError)}}function ce(o,i){if(o&1&&(t(0,"option",59),r(1),n()),o&2){let e=i.$implicit;m("value",e.name),a(),C(" ",e.name," ")}}function ge(o,i){if(o&1&&(t(0,"option",59),r(1),n()),o&2){let e=i.$implicit;m("value",e),a(),C(" ",e," ")}}function pe(o,i){if(o&1&&(t(0,"option",59),r(1),n()),o&2){let e=i.$implicit;m("value",e),a(),C(" ",e," ")}}function ue(o,i){if(o&1&&(t(0,"div",58),r(1),n()),o&2){let e=d(2);a(),_(e.passwordError)}}function fe(o,i){if(o&1&&(t(0,"div",60),s(1,"i",61),r(2),n()),o&2){let e=d(2);a(2),C("",e.registerError," ")}}function be(o,i){if(o&1){let e=S();t(0,"form",5),u("ngSubmit",function(){f(e);let c=d();return b(c.onSubmit())}),t(1,"div",6)(2,"div",7)(3,"h5",8),r(4,"Personal Information"),n(),t(5,"div",9)(6,"label",10),r(7,"First Name"),n(),t(8,"div",11),s(9,"i",12)(10,"input",13),n(),g(11,ae,2,1,"div",14),n(),t(12,"div",9)(13,"label",15),r(14,"Last Name"),n(),t(15,"div",11),s(16,"i",12)(17,"input",16),n(),g(18,le,2,1,"div",14),n(),t(19,"div",9)(20,"label",17),r(21,"Email Address"),n(),t(22,"div",11),s(23,"i",18)(24,"input",19),n(),g(25,se,2,1,"div",14),n(),t(26,"div",9)(27,"label",20),r(28,"Mobile Number"),n(),t(29,"div",11),s(30,"i",21)(31,"input",22),n(),g(32,me,2,1,"div",14),n(),t(33,"div",9)(34,"label"),r(35,"Gender"),n(),t(36,"div",23)(37,"label",24),s(38,"input",25),t(39,"span",26),s(40,"i",27),r(41,"Male"),n()(),t(42,"label",24),s(43,"input",28),t(44,"span",26),s(45,"i",29),r(46,"Female"),n()()(),g(47,de,2,1,"div",14),n()(),t(48,"div",7)(49,"h5",8),r(50,"Academic Information"),n(),t(51,"div",9)(52,"label",30),r(53,"University"),n(),t(54,"div",11),s(55,"i",31),t(56,"select",32),u("change",function(){f(e);let c=d();return b(c.onUniversityChange())}),t(57,"option",33),r(58,"Select your university"),n(),g(59,ce,2,2,"option",34),n()()(),t(60,"div",9)(61,"label",35),r(62,"Faculty"),n(),t(63,"div",11),s(64,"i",36),t(65,"select",37),u("change",function(){f(e);let c=d();return b(c.onFacultyChange())}),t(66,"option",33),r(67,"Select your faculty"),n(),g(68,ge,2,2,"option",34),n()()(),t(69,"div",9)(70,"label",38),r(71,"Department"),n(),t(72,"div",11),s(73,"i",39),t(74,"select",40)(75,"option",33),r(76,"Select your department"),n(),g(77,pe,2,2,"option",34),n()()(),t(78,"div",9)(79,"label",41),r(80,"Password"),n(),t(81,"div",11),s(82,"i",42)(83,"input",43),n(),g(84,ue,2,1,"div",14),n()()(),t(85,"div",44),s(86,"input",45),t(87,"label",46),r(88," I agree to the "),t(89,"a",47),r(90,"Terms of Service"),n(),r(91," and "),t(92,"a",47),r(93,"Privacy Policy"),n()()(),g(94,fe,3,1,"div",48),t(95,"button",49),s(96,"i",50),r(97,"Create Account "),n(),t(98,"div",51),r(99," Already have an account? "),t(100,"a",52),u("click",function(){f(e);let c=d();return b(c.switchToLogin())}),r(101,"Log in"),n()(),t(102,"div",53)(103,"p",54),r(104,"or continue with"),n(),t(105,"div",55)(106,"button",56),u("click",function(){f(e);let c=d();return b(c.onGoogleLogin())}),t(107,"span"),s(108,"i",57),r(109," Google"),n()()()()()}if(o&2){let e=d();m("formGroup",e.registerForm),a(11),m("ngIf",e.firstNameError),a(7),m("ngIf",e.lastNameError),a(7),m("ngIf",e.emailError),a(7),m("ngIf",e.mobileError),a(15),m("ngIf",e.genderError),a(12),m("ngForOf",e.universities),a(9),m("ngForOf",e.filteredFaculties),a(9),m("ngForOf",e.filteredDepartments),a(7),m("ngIf",e.passwordError),a(10),m("ngIf",e.registerError),a(),m("disabled",e.registerForm.invalid||e.isSubmitting)}}function _e(o,i){o&1&&(t(0,"div",4)(1,"div",62)(2,"div",63),s(3,"div",64)(4,"div",65),n(),t(5,"h3"),r(6,"Creating Your Account"),n(),t(7,"p",66),r(8,"Analyzing your unique profile..."),n(),t(9,"div",67)(10,"p"),s(11,"i",68),r(12," Tip: The more specific your goals, the better our recommendations"),n()()()())}var X=class o{visible=!1;visibleChange=new x;requestToLogin=new x;registerSuccess=new x;messageService=v(E);authService=v(j);fb=v(R);router=v(I);universities=[{name:"Tanta",faculties:["Engineering","Science","Business"],departments:{Business:["BIS","English","Arabic"],Engineering:["Computer Science","Civil"],Science:["Physics","Chemistry"]}},{name:"Mansoura",faculties:["Engineering","Arts","Law"],departments:{Engineering:["Software","Mechanical"],Arts:["History","Philosophy"],Law:["Criminal","Civil"]}},{name:"Menoufia",faculties:["Engineering","Agriculture"],departments:{Engineering:["Electrical","Chemical"],Agriculture:["Plant Science","Animal Science"]}}];selectedUniversity="";selectedFaculty="";filteredFaculties=[];filteredDepartments=[];registerError="";isSubmitting=!1;registerForm=this.fb.group({firstName:["",p.required],lastName:["",p.required],email:["",[p.required,p.email]],university:["",p.required],faculty:["",p.required],department:["",p.required],mobile:["",[p.required,p.pattern("^[0-9]{10,15}$")]],password:["",[p.required,p.minLength(6)]],gender:["",p.required]});onUniversityChange(){let i=this.registerForm.get("university")?.value,e=this.universities.find(l=>l.name===i);e&&(this.filteredFaculties=e.faculties,this.filteredDepartments=[],this.registerForm.get("faculty")?.reset(),this.registerForm.get("department")?.reset(),this.selectedUniversity=i)}onFacultyChange(){let i=this.registerForm.get("faculty")?.value,e=this.universities.find(l=>l.name===this.selectedUniversity);e&&e.departments[i]&&(this.filteredDepartments=e.departments[i])}onSubmit(){if(this.registerForm.valid){this.isSubmitting=!0;let i=this.registerForm.value;this.authService.register(i).subscribe({next:()=>{this.isSubmitting=!1,this.registerSuccess.emit(!0),this.registerError="",this.closeDialog(),this.router.navigate(["/features"])},error:e=>{this.isSubmitting=!1,e?.code==="auth/email-already-in-use"?this.registerError="This email is already in use. Please try logging in or use a different email.":this.registerError="An error occurred. Please try again later."}})}else this.registerForm.markAllAsTouched()}showDialog(){this.visible=!0}closeDialog(){this.visible=!1,this.visibleChange.emit(!1)}switchToLogin(){this.requestToLogin.emit(),this.closeDialog()}onGoogleLogin(){this.authService.loginWithGoogle().subscribe({next:i=>{this.isSubmitting=!1,this.router.navigate(["/features"]),this.closeDialog()},error:i=>{this.isSubmitting=!1,this.messageService.add({severity:"error",summary:"Login Failed",detail:i?.message||"Invalid email or password."}),this.registerForm.reset(),console.error("Login error:",i),this.registerError=i?.message||"Invalid email or password."},complete:()=>{this.isSubmitting=!1}})}get firstNameError(){let i=this.registerForm.get("firstName");return i?.hasError("required")&&i?.touched?"First Name is required.":""}get lastNameError(){let i=this.registerForm.get("lastName");return i?.hasError("required")&&i?.touched?"Last Name is required.":""}get emailError(){let i=this.registerForm.get("email");return i?.hasError("required")&&i?.touched?"Email is required.":i?.hasError("email")&&i?.touched?"Invalid email address.":""}get mobileError(){let i=this.registerForm.get("mobile");return i?.hasError("required")&&i?.touched?"Mobile number is required.":i?.hasError("pattern")&&i?.touched?"Mobile number must be between 10 to 15 digits.":""}get passwordError(){let i=this.registerForm.get("password");return i?.hasError("required")&&i?.touched?"Password is required.":i?.hasError("minlength")&&i?.touched?"Password must be at least 6 characters long.":""}get genderError(){let i=this.registerForm.get("gender");return i?.hasError("required")&&i?.touched?"Gender selection is required.":""}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["sign-up"]],inputs:{visible:"visible"},outputs:{visibleChange:"visibleChange",requestToLogin:"requestToLogin",registerSuccess:"registerSuccess"},features:[T([E])],decls:5,vars:8,consts:[["header","Create Your Account",3,"visibleChange","onHide","modal","visible","breakpoints"],[1,"dialog-container"],[1,"dialog-content"],[3,"formGroup"],[1,"loading-state"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6"],[1,"section-title"],[1,"form-group","my-2"],["for","firstName"],[1,"input-wrapper"],[1,"pi","pi-user","input-icon"],["type","text","formControlName","firstName","id","firstName","placeholder","John",1,"form-control","input-field"],["class","error-message",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName","id","lastName","placeholder","Doe",1,"form-control","input-field"],["for","email"],[1,"pi","pi-envelope","input-icon"],["type","email","formControlName","email","id","email","placeholder","your@email.com",1,"form-control","input-field"],["for","mobile"],[1,"pi","pi-phone","input-icon"],["type","text","formControlName","mobile","id","mobile","placeholder","+1234567890",1,"form-control","input-field"],[1,"gender-options"],[1,"gender-option"],["type","radio","formControlName","gender","value","Male"],[1,"gender-label"],[1,"pi","pi-male","me-1"],["type","radio","formControlName","gender","value","Female"],[1,"pi","pi-female","me-1"],["for","university"],[1,"pi","pi-building","input-icon"],["formControlName","university","id","university",1,"form-control","select-field",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["for","faculty"],[1,"pi","pi-book","input-icon"],["formControlName","faculty","id","faculty",1,"form-control","select-field",3,"change"],["for","department"],[1,"pi","pi-briefcase","input-icon"],["formControlName","department","id","department",1,"form-control","select-field"],["for","password"],[1,"pi","pi-lock","input-icon"],["type","password","formControlName","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control","input-field"],[1,"form-check","terms-check"],["type","checkbox","id","terms","required","",1,"form-check-input"],["for","terms",1,"form-check-label"],["href","#",1,"terms-link"],["class","error-banner",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"pi","pi-user-plus","me-2"],[1,"text-center","mt-3"],["type","button",1,"login-link",3,"click"],[1,"social-login"],[1,"divider"],[1,"social-buttons","deck","justify-content-center","text-align-center"],["type","button",1,"btn","btn-social","btn-google",3,"click"],["disabled","",1,"pi","pi-google"],[1,"error-message"],[3,"value"],[1,"error-banner"],[1,"pi","pi-exclamation-triangle","me-2"],[1,"loading-animation"],[1,"spinner"],[1,"orbit"],[1,"planet"],[1,"loading-text"],[1,"loading-tips"],[1,"pi","pi-lightbulb"]],template:function(e,l){e&1&&(t(0,"p-dialog",0),F("visibleChange",function(h){return k(l.visible,h)||(l.visible=h),h}),u("onHide",function(){return l.closeDialog()}),t(1,"div",1)(2,"div",2),g(3,be,110,12,"form",3)(4,_e,13,0,"div",4),n()()()),e&2&&(M(y(6,oe)),m("modal",!0),O("visible",l.visible),m("breakpoints",y(7,re)),a(3),w(l.isSubmitting?4:3))},dependencies:[L,H,N,z,U,K,Q,q,J,Y,V,D,A,G,W,B],styles:['.p-dialog{border-radius:16px!important;box-shadow:0 10px 50px #0003!important;border:none!important;overflow:hidden}  .p-dialog-header{background:linear-gradient(135deg,#4361ee,#3a0ca3)!important;color:#fff!important;padding:1.5rem!important;border-bottom:none!important}  .p-dialog-title{font-weight:600;font-size:1.5rem}  .p-dialog-content{padding:0!important;background:#f8f9fa!important}.dialog-container[_ngcontent-%COMP%]{padding:2rem}.dialog-content[_ngcontent-%COMP%]{max-width:100%}.section-title[_ngcontent-%COMP%]{color:#4361ee;font-weight:600;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:2px solid #e9ecef}.input-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#495057}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6c757d}.input-field[_ngcontent-%COMP%], .select-field[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 3rem;border:1px solid #ced4da;border-radius:8px;font-size:1rem;transition:all .3s ease;background-color:#fff}.input-field[_ngcontent-%COMP%]:focus, .select-field[_ngcontent-%COMP%]:focus{border-color:#4361ee;box-shadow:0 0 0 .2rem #4361ee33;outline:none}.gender-options[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.gender-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.gender-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.gender-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem;border-radius:8px;background:#e9ecef;transition:all .3s ease}.gender-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .gender-label[_ngcontent-%COMP%]{background:#4361ee;color:#fff}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4361ee,#3a0ca3);border:none;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3a56d4,#2e0a8a);transform:translateY(-2px);box-shadow:0 4px 12px #4361ee4d}.btn-outline-secondary[_ngcontent-%COMP%]{border:1px solid #6c757d;color:#6c757d;background:transparent}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#6c757d;color:#fff}.social-login[_ngcontent-%COMP%]{margin:1.5rem 0}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;color:#6c757d;margin:1rem 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #dee2e6}.divider[_ngcontent-%COMP%]:before{margin-right:1rem}.divider[_ngcontent-%COMP%]:after{margin-left:1rem}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.btn-google[_ngcontent-%COMP%]{background:#db4437;color:#fff;flex:1}.btn-facebook[_ngcontent-%COMP%]{background:#4267b2;color:#fff;flex:1}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%], .forgot-password[_ngcontent-%COMP%], .terms-link[_ngcontent-%COMP%]{color:#4361ee;text-decoration:none;font-weight:500;transition:all .2s ease}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover, .forgot-password[_ngcontent-%COMP%]:hover, .terms-link[_ngcontent-%COMP%]:hover{color:#3a0ca3;text-decoration:underline}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.error-banner[_ngcontent-%COMP%]{background-color:#dc35451a;color:#dc3545;padding:.75rem 1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center}.terms-check[_ngcontent-%COMP%]{margin:1.5rem 0}@media (max-width: 768px){.dialog-container[_ngcontent-%COMP%]{padding:1.5rem}.section-title[_ngcontent-%COMP%]{margin-top:1.5rem}.social-buttons[_ngcontent-%COMP%]{flex-direction:column}.flex-custom[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}.btn-google[_ngcontent-%COMP%]{background:#eee;color:#db4437;flex:1;border:1px solid #db4437}']})};var he=()=>({width:"30rem"}),ve=()=>({"960px":"75vw","640px":"90vw"});function Ce(o,i){if(o&1&&(t(0,"div",31),r(1),n()),o&2){let e=d(2);a(),_(e.emailError)}}function xe(o,i){if(o&1&&(t(0,"div",31),r(1),n()),o&2){let e=d(2);a(),_(e.passwordError)}}function Se(o,i){if(o&1&&(t(0,"div",32),s(1,"i",33),r(2),n()),o&2){let e=d(2);a(2),C("",e.loginError," ")}}function ye(o,i){if(o&1){let e=S();t(0,"form",6),u("ngSubmit",function(){f(e);let c=d();return b(c.onSubmit())}),t(1,"div",7)(2,"label",8),r(3,"Email Address"),n(),t(4,"div",9),s(5,"i",10)(6,"input",11),n(),g(7,Ce,2,1,"div",12),n(),t(8,"div",7)(9,"label",13),r(10,"Password"),n(),t(11,"div",9),s(12,"i",14)(13,"input",15),n(),g(14,xe,2,1,"div",12),n(),t(15,"div",16)(16,"div",17),s(17,"input",18),t(18,"label",19),r(19,"Remember me"),n()(),t(20,"button",20),u("click",function(){f(e);let c=d();return b(c.disblayResetSection=!0)}),r(21," Forgot password? "),n()(),g(22,Se,3,1,"div",21),t(23,"button",22),s(24,"i",23),r(25,"Login "),n(),t(26,"div",24),r(27," Don't have an account? "),t(28,"a",25),u("click",function(){f(e);let c=d();return b(c.switchToSignup())}),r(29,"Sign up"),n()(),t(30,"div",26)(31,"p",27),r(32,"or continue with"),n(),t(33,"div",28)(34,"button",29),u("click",function(){f(e);let c=d();return b(c.onGoogleLogin())}),t(35,"span"),s(36,"i",30),r(37," Google"),n()()()()()}if(o&2){let e=d();m("formGroup",e.loginForm),a(7),m("ngIf",e.emailError),a(7),m("ngIf",e.passwordError),a(8),m("ngIf",e.loginError),a(),m("disabled",e.loginForm.invalid||e.isSubmitting),a(11),m("disabled",e.isSubmitting)}}function Ee(o,i){if(o&1&&(t(0,"div",31),r(1),n()),o&2){let e=d(2);a(),_(e.emailError)}}function Pe(o,i){if(o&1&&(t(0,"div",32),s(1,"i",33),r(2),n()),o&2){let e=d(2);a(2),C("",e.loginError," ")}}function Me(o,i){if(o&1){let e=S();t(0,"form",6),u("ngSubmit",function(){f(e);let c=d();return b(c.resetPassword(c.loginForm))}),t(1,"div",7)(2,"label",8),r(3,"Email Address"),n(),t(4,"div",9),s(5,"i",10)(6,"input",34),n(),g(7,Ee,2,1,"div",12),n(),g(8,Pe,3,1,"div",21),t(9,"button",22),s(10,"i",23),r(11,"Reset "),n()()}if(o&2){let e=d();m("formGroup",e.loginForm),a(7),m("ngIf",e.emailError),a(),m("ngIf",e.loginError),a(),m("disabled",e.loginForm.controls.email.invalid||e.isSubmitting)}}function we(o,i){if(o&1){let e=S();t(0,"div",4)(1,"div",35),s(2,"i",36),n(),t(3,"h3"),r(4,"Check Your Email"),n(),t(5,"p",37),r(6," We've sent a password reset link to your email address. Please check your inbox and follow the instructions to reset your password. "),n(),t(7,"p",38),r(8," If you don't see the email, check your spam folder or "),t(9,"a",39),u("click",function(c){f(e);let h=d();return h.disblayResetSection=!0,h.confimedResetSection=!1,b(c.preventDefault())}),r(10," try again with a different email address "),n(),r(11,". "),n(),t(12,"button",40),u("click",function(){f(e);let c=d();return b(c.confimedResetSection=!1)}),s(13,"i",41),r(14,"Back to Login "),n()()}}function Oe(o,i){o&1&&(t(0,"div",5)(1,"div",42)(2,"div",43),s(3,"div",44)(4,"div",45),n(),t(5,"h3"),r(6,"Waiting.."),n(),t(7,"p",46),r(8," Analyzing your unique profile..."),n(),t(9,"div",47)(10,"p"),s(11,"i",48),r(12," Tip: The more specific your goals, the better our recommendations"),n()()()())}var Z=class o{visible=!1;registerSuccess=!1;visibleChange=new x;requestSignUp=new x;messageService=v(E);fb=v(R);router=v(I);authService=v(j);loginError="";isSubmitting=!1;showSignUp=!1;disblayResetSection=!1;confimedResetSection=!1;loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]});onSubmit(){this.loginForm.valid?(this.isSubmitting=!0,this.authService.login(this.loginForm.value.email,this.loginForm.value.password).subscribe({next:i=>{console.log("Login successful",this.loginForm.value,i),this.isSubmitting=!1,this.router.navigate(["/features"]),this.closeDialog()},error:i=>{console.error("Login error:",i),this.isSubmitting=!1,this.loginForm.reset(),this.loginError=i?.message||"Invalid email or password."},complete:()=>{this.isSubmitting=!1}})):this.loginForm.markAllAsTouched()}onGoogleLogin(){this.isSubmitting=!0,this.authService.loginWithGoogle().subscribe({next:i=>{this.isSubmitting=!1,this.messageService.add({severity:"success",summary:"Login Successful",detail:"Welcome back!"}),this.router.navigate(["/features"]),this.closeDialog()},error:i=>{this.isSubmitting=!1,this.messageService.add({severity:"error",summary:"Login Failed",detail:i?.message||"Invalid email or password."}),this.loginForm.reset(),console.error("Login error:",i),this.loginError=i?.message||"Invalid email or password."}})}resetPassword(i){let e=i.controls.email;e.valid&&e.value!==""?(this.isSubmitting=!0,this.loginError="",this.authService.resetPassword(e.value).subscribe({next:l=>{this.confimedResetSection=!0,this.disblayResetSection=!1,this.isSubmitting=!1},error:l=>{this.disblayResetSection=!0,this.confimedResetSection=!1,this.isSubmitting=!1,this.loginError=l?.message||"Failed to send reset email. Please try again."}})):(this.loginError="Please enter a valid email address",e.markAsTouched())}showDialog(){this.visible=!0,this.resetFormStates()}closeDialog(){this.visible=!1,this.visibleChange.emit(!1),this.resetFormStates()}resetFormStates(){this.loginError="",this.isSubmitting=!1,this.disblayResetSection=!1,this.confimedResetSection=!1,this.loginForm.reset()}get emailError(){let i=this.loginForm.get("email");return i?.hasError("required")&&i?.touched?"Email is required.":i?.hasError("email")&&i?.touched?"Invalid email address.":""}get passwordError(){let i=this.loginForm.get("password");return i?.hasError("required")&&i?.touched?"Password is required.":i?.hasError("minlength")&&i?.touched?"Password must be at least 6 characters long.":""}switchToSignup(){this.closeDialog(),this.requestSignUp.emit(!0)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["login"]],inputs:{visible:"visible",registerSuccess:"registerSuccess"},outputs:{visibleChange:"visibleChange",requestSignUp:"requestSignUp"},features:[T([E])],decls:7,vars:9,consts:[[3,"visibleChange","onHide","header","modal","visible","breakpoints"],[1,"dialog-container"],[1,"dialog-content"],[3,"formGroup"],[1,"reset-confirmation"],[1,"loading-state"],[3,"ngSubmit","formGroup"],[1,"form-group","my-2"],["for","email"],[1,"input-wrapper"],[1,"pi","pi-envelope","input-icon"],["type","email","formControlName","email","id","email","placeholder","your@email.com",1,"form-control","input-field"],["class","error-message",4,"ngIf"],["for","password"],[1,"pi","pi-lock","input-icon"],["type","password","formControlName","password","id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control","input-field"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"form-check"],["type","checkbox","id","rememberMe",1,"form-check-input"],["for","rememberMe",1,"form-check-label"],["type","button","title","Coming soon...",1,"resetButton",3,"click"],["class","error-banner",4,"ngIf"],["type","submit",1,"btn","btn-primary","w-100","mb-3",3,"disabled"],[1,"pi","pi-sign-in","me-2"],[1,"text-center","mt-3"],["type","button",1,"signup-link",3,"click"],[1,"social-login"],[1,"divider"],[1,"social-buttons","deck","justify-content-center","text-align-center"],["type","button",1,"btn","btn-social","btn-google",3,"click","disabled"],["disabled","",1,"pi","pi-google"],[1,"error-message"],[1,"error-banner"],[1,"pi","pi-exclamation-triangle","me-2"],["type","email","formControlName","email","id","email","placeholder","enter your email",1,"form-control","input-field"],[1,"confirmation-icon"],[1,"pi","pi-check-circle"],[1,"confirmation-message"],[1,"additional-note"],["href","#",3,"click"],["type","button",1,"btn","btn-primary","w-100","mt-3",3,"click"],[1,"pi","pi-arrow-left","me-2"],[1,"loading-animation"],[1,"spinner"],[1,"orbit"],[1,"planet"],[1,"loading-text"],[1,"loading-tips"],[1,"pi","pi-lightbulb"]],template:function(e,l){e&1&&(t(0,"p-dialog",0),F("visibleChange",function(h){return k(l.visible,h)||(l.visible=h),h}),u("onHide",function(){return l.closeDialog()}),t(1,"div",1)(2,"div",2),g(3,ye,38,6,"form",3)(4,Me,12,4,"form",3)(5,we,15,0,"div",4)(6,Oe,13,0,"div",5),n()()()),e&2&&(M(y(7,he)),m("header",l.disblayResetSection?"Reset Password":"Welcome Back")("modal",!0),O("visible",l.visible),m("breakpoints",y(8,ve)),a(3),w(!l.isSubmitting&&!l.disblayResetSection&&!l.confimedResetSection?3:!l.isSubmitting&&l.disblayResetSection?4:!l.isSubmitting&&l.confimedResetSection?5:6))},dependencies:[L,N,z,U,q,V,D,A,G,W,B],styles:['.p-dialog{border-radius:16px!important;box-shadow:0 10px 50px #0003!important;border:none!important;overflow:hidden}  .p-dialog-header{background:linear-gradient(135deg,#4361ee,#3a0ca3)!important;color:#fff!important;padding:1.5rem!important;border-bottom:none!important}  .p-dialog-title{font-weight:600;font-size:1.5rem}  .p-dialog-content{padding:0!important;background:#f8f9fa!important}.dialog-container[_ngcontent-%COMP%]{padding:2rem}.dialog-content[_ngcontent-%COMP%]{max-width:100%}.section-title[_ngcontent-%COMP%]{color:#4361ee;font-weight:600;margin-bottom:1.5rem;padding-bottom:.5rem;border-bottom:2px solid #e9ecef}.input-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#495057}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#6c757d}.input-field[_ngcontent-%COMP%], .select-field[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 3rem;border:1px solid #ced4da;border-radius:8px;font-size:1rem;transition:all .3s ease;background-color:#fff}.input-field[_ngcontent-%COMP%]:focus, .select-field[_ngcontent-%COMP%]:focus{border-color:#4361ee;box-shadow:0 0 0 .2rem #4361ee33;outline:none}.gender-options[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:.5rem}.gender-option[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.gender-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.gender-label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem;border-radius:8px;background:#e9ecef;transition:all .3s ease}.gender-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .gender-label[_ngcontent-%COMP%]{background:#4361ee;color:#fff}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:8px;font-weight:500;transition:all .3s ease;display:inline-flex;align-items:center;justify-content:center}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4361ee,#3a0ca3);border:none;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#3a56d4,#2e0a8a);transform:translateY(-2px);box-shadow:0 4px 12px #4361ee4d}.btn-outline-secondary[_ngcontent-%COMP%]{border:1px solid #6c757d;color:#6c757d;background:transparent}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:#6c757d;color:#fff}.social-login[_ngcontent-%COMP%]{margin:1.5rem 0}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;color:#6c757d;margin:1rem 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #dee2e6}.divider[_ngcontent-%COMP%]:before{margin-right:1rem}.divider[_ngcontent-%COMP%]:after{margin-left:1rem}.social-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.btn-google[_ngcontent-%COMP%]{background:#db4437;color:#fff;flex:1}.btn-facebook[_ngcontent-%COMP%]{background:#4267b2;color:#fff;flex:1}.signup-link[_ngcontent-%COMP%], .login-link[_ngcontent-%COMP%], .forgot-password[_ngcontent-%COMP%], .terms-link[_ngcontent-%COMP%]{color:#4361ee;text-decoration:none;font-weight:500;transition:all .2s ease}.signup-link[_ngcontent-%COMP%]:hover, .login-link[_ngcontent-%COMP%]:hover, .forgot-password[_ngcontent-%COMP%]:hover, .terms-link[_ngcontent-%COMP%]:hover{color:#3a0ca3;text-decoration:underline}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem}.error-banner[_ngcontent-%COMP%]{background-color:#dc35451a;color:#dc3545;padding:.75rem 1rem;border-radius:8px;margin:1rem 0;display:flex;align-items:center}.terms-check[_ngcontent-%COMP%]{margin:1.5rem 0}@media (max-width: 768px){.dialog-container[_ngcontent-%COMP%]{padding:1.5rem}.section-title[_ngcontent-%COMP%]{margin-top:1.5rem}}.loading-state[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:60vh;background:#f8f9fa}.loading-animation[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:2rem}.spinner[_ngcontent-%COMP%]{position:relative;width:80px;height:80px;margin:0 auto 1.5rem}.orbit[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border:2px dashed rgba(67,97,238,.3);border-radius:50%;animation:spin 15s linear infinite}.planet[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:30px;height:30px;background:#4361ee;border-radius:50%;box-shadow:0 0 20px #4361ee80}.loading-animation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:.5rem;font-size:1.25rem}.loading-text[_ngcontent-%COMP%]{color:#718096;margin-bottom:1.5rem}.progress-tracker[_ngcontent-%COMP%]{height:6px;background:#e2e8f0;border-radius:3px;margin-bottom:1.5rem;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#4361ee,#3a0ca3);width:0%;transition:width .4s ease}.loading-tips[_ngcontent-%COMP%]{background:#edf2f7;padding:.75rem;border-radius:8px;color:#4a5568;font-size:.9rem}.loading-tips[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#4361ee;margin-right:.5rem}.btn-google[_ngcontent-%COMP%]{background:#eee;color:#db4437;flex:1;border:1px solid #db4437}.resetButton[_ngcontent-%COMP%]{background:none;border:none;color:#4361ee;font-weight:500;cursor:pointer;padding:0;transition:color .2s ease,text-decoration .2s ease;text-decoration:none;font-size:.95rem}.resetButton[_ngcontent-%COMP%]:hover{color:#3a0ca3;text-decoration:underline}.reset-confirmation[_ngcontent-%COMP%]{text-align:center;padding:1rem}.confirmation-icon[_ngcontent-%COMP%]{font-size:4rem;color:#4bb543;margin-bottom:1.5rem}.confirmation-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:inherit}.reset-confirmation[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2d3748;margin-bottom:1rem;font-size:1.5rem}.confirmation-message[_ngcontent-%COMP%]{color:#4a5568;margin-bottom:1.5rem;line-height:1.6}.additional-note[_ngcontent-%COMP%]{color:#718096;font-size:.9rem;margin-bottom:2rem}.additional-note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#4361ee;text-decoration:none}.additional-note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})};export{X as a,Z as b};
